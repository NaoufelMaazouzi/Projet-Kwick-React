[{"D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\index.js":"1","D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\App.js":"2","D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\reportWebVitals.js":"3","D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\navbar.js":"4","D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\ReactRouterRoutes\\publicRoute.js":"5","D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\messages.js":"6","D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\signUp.js":"7","D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Context\\auth.js":"8","D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\ReactRouterRoutes\\privateRoute.js":"9","D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\login.js":"10","D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\aside.js":"11","D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\globalVariables.js":"12","D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\messagesFromPeople.js":"13","D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\messagesFromMe.js":"14","D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\timeoutDialog.js":"15","D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\TimeoutDialog.js":"16","D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\typingBar.js":"17"},{"size":478,"mtime":1609950518668,"results":"18","hashOfConfig":"19"},{"size":1891,"mtime":1610007462865,"results":"20","hashOfConfig":"19"},{"size":362,"mtime":499162500000,"results":"21","hashOfConfig":"19"},{"size":1824,"mtime":1610007443493,"results":"22","hashOfConfig":"19"},{"size":294,"mtime":1609760372665,"results":"23","hashOfConfig":"19"},{"size":3020,"mtime":1610007513145,"results":"24","hashOfConfig":"19"},{"size":4056,"mtime":1610017474880,"results":"25","hashOfConfig":"19"},{"size":168,"mtime":1609760230905,"results":"26","hashOfConfig":"19"},{"size":555,"mtime":1609761795961,"results":"27","hashOfConfig":"19"},{"size":3307,"mtime":1610007495985,"results":"28","hashOfConfig":"19"},{"size":2967,"mtime":1610016237450,"results":"29","hashOfConfig":"19"},{"size":102,"mtime":1609858358174,"results":"30","hashOfConfig":"19"},{"size":1035,"mtime":1609951568053,"results":"31","hashOfConfig":"19"},{"size":1101,"mtime":1609951268193,"results":"32","hashOfConfig":"19"},{"size":1471,"mtime":1609933221208,"results":"33","hashOfConfig":"19"},{"size":1471,"mtime":1609933221208,"results":"34","hashOfConfig":"19"},{"size":2379,"mtime":1610108027459,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1255usa",{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"40"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\index.js",[],"D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\App.js",[],["72","73"],"D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\reportWebVitals.js",[],"D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\navbar.js",[],"D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\ReactRouterRoutes\\publicRoute.js",[],"D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\messages.js",["74","75"],"import '../css/messages.css';\r\nimport Axios from 'axios';\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport Aside from './aside';\r\nimport React from 'react';\r\nimport MessagesFromMe from './messagesFromMe';\r\nimport MessagesFromPeople from './messagesFromPeople';\r\nimport IdleTimer from 'react-idle-timer';\r\nimport TimeoutDialog from './timeoutDialog';\r\nimport TypingBar from './typingBar';\r\n\r\nfunction Messages(props) {\r\n    /*Declare all states*/\r\n    const { token, username, id } = props;\r\n    const [messages, setMessages] = useState([]);\r\n    const [sessionTimeout, setSessionTimeout] = useState(1000 * 1200 * 1);\r\n    const [isTimedOut, setIsTimedOut] = useState(false);\r\n    const [open, setOpen] = useState(false);\r\n    let idleTimer = null;\r\n    const messagesEndRef = useRef(null);\r\n\r\n    /*Function to fetch all messages from the API*/\r\n    const fetchData = async () => {\r\n        await Axios.get(`${process.env.REACT_APP_API_URL}talk/list/${token}/0`)\r\n            .then(data => {\r\n                setMessages(data.data.result.talk);\r\n                scrollToBottom();\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    /*Function to scroll to bottom of chat*/\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current.scrollIntoView({ behavior: \"smooth\" })\r\n    }\r\n\r\n    /*Fetch data when the component mount*/\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    /*Function to clear timeOut when user do an action on the page*/\r\n    const onAction = () => {\r\n        setIsTimedOut(false);\r\n    }\r\n\r\n    /*Function to open a pop-up if the user is inactive for 20min*/\r\n    const onIdle = () => {\r\n        if (isTimedOut) {\r\n            setOpen(true);\r\n        } else {\r\n            setOpen(false);\r\n            idleTimer.reset();\r\n            setIsTimedOut(true);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <IdleTimer\r\n                ref={ref => { idleTimer = ref }}\r\n                element={document}\r\n                onActive={onAction}\r\n                onIdle={onIdle}\r\n                onAction={onAction}\r\n                debounce={250}\r\n                timeout={sessionTimeout}\r\n            />\r\n            <TimeoutDialog open={open} setOpen={setOpen} />\r\n            <main>\r\n                <Aside token={token} />\r\n                <section className=\"sectionMessages\">\r\n                    <div className=\"messagesContainer\">\r\n                        {messages && messages.map((message, key) => {\r\n                            return message.user_name !== username ?\r\n                                <MessagesFromPeople message={message} key={key} />\r\n                                : <MessagesFromMe message={message} key={key} />\r\n                        })}\r\n                        <div ref={messagesEndRef} />\r\n                    </div>\r\n                    <TypingBar fetchData={fetchData} token={token} id={id} />\r\n                </section>\r\n            </main>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Messages;\r\n","D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\signUp.js",[],"D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Context\\auth.js",[],"D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\ReactRouterRoutes\\privateRoute.js",[],"D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\login.js",[],"D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\aside.js",["76"],"D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\globalVariables.js",[],"D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\messagesFromPeople.js",[],"D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\messagesFromMe.js",[],"D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\timeoutDialog.js",[],"D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\TimeoutDialog.js",[],"D:\\Ecole Multimedia\\Bloc Javascript\\Projet Kwick React\\projet\\src\\Components\\typingBar.js",[],{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","replacedBy":"80"},{"ruleId":"81","severity":1,"message":"82","line":16,"column":28,"nodeType":"83","messageId":"84","endLine":16,"endColumn":45},{"ruleId":"85","severity":1,"message":"86","line":40,"column":8,"nodeType":"87","endLine":40,"endColumn":10,"suggestions":"88"},{"ruleId":"85","severity":1,"message":"89","line":50,"column":8,"nodeType":"87","endLine":50,"endColumn":10,"suggestions":"90"},"no-native-reassign",["91"],"no-negated-in-lhs",["92"],"no-unused-vars","'setSessionTimeout' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","ArrayExpression",["93"],"React Hook useEffect has a missing dependency: 'token'. Either include it or remove the dependency array.",["94"],"no-global-assign","no-unsafe-negation",{"desc":"95","fix":"96"},{"desc":"97","fix":"98"},"Update the dependencies array to be: [fetchData]",{"range":"99","text":"100"},"Update the dependencies array to be: [token]",{"range":"101","text":"102"},[1419,1421],"[fetchData]",[1506,1508],"[token]"]